import 'package:flutter/material.dart';
import 'package:syncup_music_app/widgets/audio_player_widget.dart'; // ✅ Asegúrate de importar tu widget
import 'package:syncup_music_app/constants/constants.dart';

class Screen5Player extends StatelessWidget {
  const Screen5Player({super.key});

  final String fileName = "Alan Walker - Alone.mp3";

  Widget _buildScrollableButtons() {
    return SizedBox(
      height: 320,
      child: ListView(
        children: [
          _buildMenuButton(Icons.search, "Buscar"),
          _buildMenuButton(Icons.favorite, "Canciones favoritas"),
          _buildMenuButton(Icons.explore, "Descubrimiento semanal"),
          _buildMenuButton(Icons.people_alt, "Siguiendo"),
          _buildMenuButton(Icons.group, "Conectar"),
          _buildMenuButton(Icons.download, "Descargar CSV"),
        ],
      ),
    );
  }

  Widget _buildMenuButton(IconData icon, String label) {
    return Container(
      width: double.infinity,
      margin: const EdgeInsets.symmetric(vertical: 8),
      child: ElevatedButton.icon(
        onPressed: () {}, // Acción futura
        icon: Icon(icon),
        label: Text(label),
        style: ElevatedButton.styleFrom(
          padding: const EdgeInsets.symmetric(vertical: 18),
          backgroundColor: Colors.grey.shade200,
          foregroundColor: Colors.black,
          shape: RoundedRectangleBorder(
            borderRadius: BorderRadius.circular(12),
          ),
        ),
      ),
    );
  }

  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(
        titleSpacing: 0,
        title: Row(
          children: [
            const SizedBox(width: 12),
            const Text("Usuario", style: TextStyle(fontSize: 20)),
            const Spacer(),
            IconButton(
              icon: const CircleAvatar(
                backgroundColor: Colors.deepPurple,
                child: Icon(Icons.person, color: Colors.white),
              ),
              onPressed: () {}, // Futuro: ir a perfil
            ),
          ],
        ),
      ),
      body: Padding(
        padding: const EdgeInsets.symmetric(horizontal: 20),
        child: Column(
          children: [
            _buildScrollableButtons(),
            // ✅ Nuevo widget del reproductor
            AudioPlayerWidget(fileName: fileName),
          ],
        ),
      ),
    );
  }
}
